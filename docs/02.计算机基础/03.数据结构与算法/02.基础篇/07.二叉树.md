---
title: 二叉树
date: 2023-10-11 20:30:03
permalink: /computer/data/30670d/
author: 
  name: 泪伤荡
  link: https://github.com/gemini-ming
---
# 二叉树

## 树的基本概念

- 节点、根节点、父节点、子节点、兄弟节点
- 空树：没有任何节点的树
- 一棵树可以只有 1 个节点，也就是只有根节点
- 子树、左子树、右子树



节点的**度**（degree）：子树的个数

树的**度**：所有节点度中的最大值

叶子节点（leaf）：度为 0 的节点

**层数**（level）：根节点在第 1 层，根节点的子节点在第 2 层，以此类推

节点的**深度**（depth）：从根节点到当前节点的唯一路径上的节点总数

节点的**高度**（height）：从当前节点到最远叶子节点的路径上的节点总数

树的**深度**：所有节点深度中的最大值

树的**高度**：所有节点高度中的最大值

树的**深度** 等于 树的**高度**

## 有序树、无序树、森林

*有序树*

树中任意节点的子节点之间有顺序关系

*无序树*

- 树中任意节点的子节点之间没有顺序关系
- 也称为“自由树”

*森林*

由 m(m >= 0) 棵互不相交的树组成的集合

## 二叉树

### 特点

1. 每个节点的**度**最大为 2（最多拥有 2 棵子树)
2. 左子树和右子树是有顺序的，即使某节点**只有一棵子树，也要区分左右子树**（有顺序但没有大小的限制）

### 性质

1. 非空二叉树的第 i 层，最多有 `2^(i-1)` 个节点（i >= 1）
2. 在高度为 h 的二又树上最多有 `2^h - 1` 个结点（h >= 1）
3. 对于任何一棵非空二叉树，如果叶子节点个数为 n0，度为 2 的节点个数为 n2，则有：n = n2 + 1 
   - 假设度为 1 的节点个数为 n1，那么二叉树的节点总数 n = n0 + n1 + n2
   - 二叉树的边数 T = n1 + 2 * n2 = **n - 1** = n0 + n1 + n2 - 1（除了根节点，每个节点都有一条边）

## 真二叉树

**真二叉树**：

- 所有节点的*度*都要么为 0，要么为 2。（0,2）

## 满二叉树

**满二叉树**：

- 所有节点的*度*都要么为 0，要么为 2，（0, 2）
- **且所有的*叶子*节点都在【最后一层】。**

性质：

1. 在同样高度的二叉树中，满二叉树的叶子节点数量最多、总节点数量最多
2. 满二叉树一定是真二叉树，真二叉树不一定是满二叉树
3. 假设满二叉树的高度为 h(h >= 1)，那么
   - 第 i 层的节点数量: 2^(i-1)
   - 叶子节点数量: 2^(h-1)
   - 总节点数量 n
     - n = 2^h - 1 = 2^0 + 2^1 + 2^2 + ... + 2^(h-1)
     - h = log2(n+1)

## 完全二叉树

### 概念

**完全二叉树**：

- 叶子节点只会出现最后 2 层，（0, 1, 2）
- **且最后 1 层的*叶子*结点都*靠左*对齐。**

- 完全二叉树从*根节点*至*倒数第 2 层*是一颗**满二叉树**
- 【满二叉树】一定是【完全二叉树】，【完全二叉树】不一定是【满二叉树】

### 性质

1. 度为 1 的节点只有左子树
2. 度为 1 的节点要么是 1 个，要么是 0 个
3. 同样节点数量的二叉树，完全二叉树的高度最小
4. 假设完全二叉树的高度为 h(h>=1)，那么
   - 至少有 *2^(h-1)* 个节点 (2^0 + 2^1 + 2^2 + ... + 2^(h-2) + 1）
   - 最多有 *2^h - 1* 个节点（2^0 + 2^1 + 2^2 + ... + 2^(h-1)，满二又树)
   - 总节点数量为 n

高度 h 与 总节点数量 n 的运算：

- 2^(h-1) <= n < 2^h
- h-1 < log2(n) < h
- h = floor(log2(n)) + 1

> 1. `floor`（向下取整）：只取前面的整数。比如 floor(4.6) 为4
> 2. `ceiling`（向上取整）：如果小数不为 0，取前面的整数加 1，否则只取前面的整数。比如 ceiling(4.6) 为 5，ceiling(4.0) 为 4
> 3. 平常运算默认向下取整（5/2 = 2）

*编号问题：*

![image](https://cmty256.github.io/imgs-blog/basics/image.5p63hsdswi80.png)

### 面试题

> 题目：如果一颗完全二叉树有 768 个节点，求叶子节点的个数。

假设叶子节点个数为 n0，度为 1 的节点个数为 n1，度为 2 的节点个数为 n2 

=> 总结点个数 n = n0 + n1 + n2，而且 n0 = n2 + 1 

所以可推导：`n = 2n0 + n1 - 1`

*利用性质：完全二叉树的 n1 要么为 0，要么为 1*

可推出：

1. n1 为 1 时，n = 2n0，n 必然是**偶数**
   - 叶子节点个数 `n0 = n/2`，非叶子节点个数 n1 + n2 = n/2 
2. n1 为 0 时，n = 2n0 - 1，n 必然是**奇数**
   - 叶子节点个数 `n0 = (n+1)/2 = n/2 + 1/2`，非叶子节点个数 n1 + n2 = (n-1)/2

*总结*

利用**向上或向下取整**（省略了小数的影响）可得出通用公式，这样就无需判断了

- 叶子节点个数 n0 = `(n+1)/2` = floor( (n+1)/2 ) = ceiling( n/2 )
- 非叶子节点个数 n1 + n2 = `n/2` = floor( n/2 ) = ceiling( (n-1)/2 )
- 因此叶子节点个数为 384
